{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://raw.githubusercontent.com/ethanKletschke/yaml-metadata-schema/07817bb/meta.schema.json",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "project-meta": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "project-name": {
          "$comment": "The name of the project.",
          "type": "string",
          "minLength": 1
        },
        "date-started": {
          "$comment": "The date that the project was started.",
          "type": "string",
          "pattern": "^\\d{4}\\-\\d{2}\\-\\d{2}$"
        },
        "last-updated": {
          "$comment": "The date that the project was last updated.",
          "type": "string",
          "pattern": "^\\d{4}\\-\\d{2}\\-\\d{2}$"
        },
        "languages": {
          "$comment": "The language(s) used to write the app/project.",
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1
        },
        "status": {
          "$comment": "The current usability status of the app.",
          "type": "string",
          "enum": [
            "Stable",
            "Unstable",
            "Experimental",
            "Canceled",
            "Deprecated",
            "Other"
          ]
        },
        "license": {
          "$comment": "The open-source license of the app/project.",
          "type": "string",
          "minLength": 1,
          "default": "MIT"
        },
        "version": {
          "$comment": "The SemVer version of the app/project.",
          "type": "string",
          "pattern": "^\\d+.\\d+.\\d+$"
        }
      },
      "required": [
        "project-name",
        "author",
        "languages",
        "status",
        "version"
      ]
    },
    "build": {
      "$comment": "Information about building, compiling, or interpreting the app.",
      "type": "object",
      "additionalProperties": false,
      "minProperties": 1,
      "properties": {
        "dev-environments": {
          "$comment": "The environments where the app/project was developed.",
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1
        },
        "test-environments": {
          "$comment": "The environments where the app/project was tested.",
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1
        },
        "target-platforms": {
          "$comment": "The platforms for which the app/project is developed.",
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1
        },
        "compiler": {
          "$comment": "Information about this project's compiler.",
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "compiler-name": {
              "$comment": "The name of the compiler used for this project.",
              "type": "string",
              "minLength": 1
            },
            "compiler-version": {
              "$comment": "The compiler version used in this project.",
              "type": "string",
              "minLength": 1
            },
            "static-compiler": {
              "$comment": "Does the compiled unit require a runtim to run?",
              "type": "boolean"
            },
            "compilation-process": {
              "$comment": "Details concerning the compilation of the app.",
              "type": "object",
              "additionalProperties": false,
              "properties": {
                "timing": {
                  "$comment": "When the source is compiled during the compilation process.",
                  "type": "string",
                  "enum": [
                    "AOT",
                    "JIT",
                    "Hybrid"
                  ]
                },
                "output": {
                  "$comment": "The output that the compiler generates",
                  "type": "string",
                  "enum": [
                    "Native Executable",
                    "Bytecode",
                    "Transpiled Source"
                  ]
                }
              },
              "required": [
                "timing",
                "output"
              ]
            }
          },
          "required": [
            "compiler-name",
            "compiler-version"
          ]
        },
        "interpreter": {
          "$comment": "Information about this project's interpeter.",
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "interpreter-name": {
              "$comment": "The name of the interpreter used for this project.",
              "type": "string",
              "minLength": 1
            },
            "interpreter-version": {
              "$comment": "The version of the interpreter in a Semantic Versioning format.",
              "type": "string",
              "pattern": "^\\d+.\\d+.\\d+.$"
            }
          }
        }
      },
      "required": [
        "dev-environments",
        "target-platforms"
      ],
      "oneOf": [
        {
          "required": [
            "compiler"
          ]
        },
        {
          "required": [
            "interpreter"
          ]
        }
      ]
    },
    "team": {
      "$comment": "The team behind the project",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "author": {
          "$comment": "The original author/owner of the project.",
          "type": "string",
          "minLength": 1
        },
        "owner": {
          "$comment": "The current owner of the project.",
          "type": "string",
          "minLength": 1
        },
        "contributors": {
          "$comment": "A list of contributors for the project.",
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "minProperties": 1,
            "additionalProperties": false,
            "properties": {
              "name": {
                "$comment": "The full name of the contributor.",
                "type": ["string", "null"],
                "minLength": 1
              },
              "role": {
                "$comment": "The role that the contributor plays in the project."
              },
              "github-username": {
                "$comment": "The contributor's GitHub username",
                "type": "string",
                "minLength": 1
              },
              "website": {
                "$comment": "The contributor's website. This key is optional.",
                "type": "string",
                "pattern": "^https?:\\/\\/([a-zA-Z0-9-]+\\.)+[a-zA-Z]{2,}(\\/.*)?$"
              }
            },
            "required": [
              "name",
              "role",
              "github-username"
            ]
          }
        }
      },
      "required": [
        "author",
        "owner",
        "contributors"
      ]
    },
    "misc-metadata": {
      "$comment": "Misc. user-defined keys and values provided for when additional meta is needed.",
      "type": "object",
      "additionalProperties": true,
      "minProperties": 1
    }
  },
  "required": [
    "project-meta",
    "build",
    "team"
  ]
}
